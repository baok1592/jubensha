(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77e2d07f"],{"280a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swiperIndex"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),i("el-breadcrumb-item",[t._v("轮播图")])],1),i("div",{staticClass:"swiperIndexBack"},[i("swiperTable")],1)],1)},l=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pages_swiper"},[i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.open_add()}}},[t._v("添加轮播图")])],1),i("div",{staticClass:"swiperTable"},[i("el-table",{attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"id",label:"编号",width:"80"}}),i("el-table-column",{attrs:{prop:"name",label:"名称",width:"80"}}),i("el-table-column",{attrs:{prop:"",label:"缩略图",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.img?[i("img",{staticStyle:{width:"40%",height:"40%"},attrs:{src:t.getimg+e.row.img.url}})]:t._e()]}}])}),i("el-table-column",{attrs:{prop:"store.name",label:"店铺",width:"180"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"medium",type:"success"},on:{click:function(i){return t.send_eidt(e.row)}}},[t._v("修改")]),i("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(i){return t.del_swiper(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),i("el-dialog",{attrs:{title:"轮播图",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-row",{staticClass:"swiperIndex_el_row"},[i("el-col",{attrs:{span:4}},[t._v("名称")]),i("el-col",{attrs:{span:13}},[i("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),i("el-row",{staticClass:"swiperIndex_el_row"},[i("el-col",{attrs:{span:4}},[t._v("图片")]),i("el-col",{attrs:{span:13}},[t.img_list.length<1?i("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small",type:"primary"},on:{click:t.choose_pic}},[t._v("选择图片")]):t._e(),t.img_list.length>0?[i("div",{staticStyle:{display:"flex",width:"700px","flex-wrap":"wrap"}},[t._l(t.img_list,(function(e,s){return[t.img_list.length>0?i("div",{staticClass:"picA"},[i("img",{staticClass:"img",attrs:{src:t.$getimg+e}}),i("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return t.del_img(s)}}})]):t._e()]}))],2)]:t._e()],2)],1),i("el-row",{staticClass:"swiperIndex_el_row"},[i("el-col",{attrs:{span:4}},[t._v("店铺")]),i("el-col",{attrs:{span:13}},[i("el-select",{attrs:{placeholder:"请选择门店"},model:{value:t.form.store_id,callback:function(e){t.$set(t.form,"store_id",e)},expression:"form.store_id"}},t._l(t.shop,(function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),0==t.eidt_type?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_swiper()}}},[t._v("确 定")]):t._e(),1==t.eidt_type?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.edit_swiper()}}},[t._v("修改")]):t._e()],1)],1),i("Pic",{attrs:{drawer:t.drawer,father_fun:t.get_img,length:t.length}})],1)},n=[],r=(i("3fab"),i("3f27"),i("8d1b"),i("ab56")),o={components:{Pic:r["a"]},data:function(){return{tableData:[{}],getimg:this.$getimg,dialogFormVisible:!1,form:{name:"",store_id:"",img_id:""},shop:[],eidt_type:0,formLabelWidth:"120px",img_list:[],img_recid:"",background:"",length:1,drawer:!1,test:[]}},mounted:function(){this.get_allSwiper(),this.get_allShop()},methods:{del_swiper:function(t){var e=this;this.$confirm("确定删除该图片吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.delete("banner/del_banner?id="+t).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.get_allSwiper()}))}))},send_eidt:function(t){this.eidt_type=1,this.form={},this.img_list=[],this.form=t,this.img_list.push(t.img.url),this.dialogFormVisible=!0},edit_swiper:function(){var t=this;this.dialogFormVisible=!1,""!=this.img_recid&&(this.form.img_id=this.img_recid),this.$http.post_show("banner/up_banner",this.form).then((function(e){200==e.status&&(t.$message({type:"success",message:"修改成功！"}),t.get_allSwiper())}))},add_swiper:function(){var t=this;this.dialogFormVisible=!1,this.form.img_id=this.img_recid,this.$http.post_show("banner/add_banner",this.form).then((function(e){200==e.status&&(t.$message({type:"success",message:"添加成功！"}),t.get_allSwiper())}))},choose_pic:function(){this.length=1-this.img_list.length,this.drawer=!0},get_img:function(t){for(var e in this.drawer=!1,t){var i=t[e];this.img_list.push(i.url),this.form.background=i.id}this.length=6-this.img_list.length,this.test.push(t),this.img_recid=t[0].id},del_img:function(t){this.img_list.splice(t,1)},get_allShop:function(){var t=this;this.$http.get("store/get_all").then((function(e){t.shop=e.data}))},open_add:function(){this.form={},this.img_list=[],this.eidt_type=0,this.dialogFormVisible=!0},get_allSwiper:function(){var t=this;this.$http.get("banner/banner_all").then((function(e){200==e.status&&(t.tableData=e.data)}))}}},c=o,d=(i("d6b0"),i("cba8")),u=Object(d["a"])(c,a,n,!1,null,null,null),m=u.exports,p={components:{swiperTable:m}},h=p,_=(i("28e5"),Object(d["a"])(h,s,l,!1,null,null,null));e["default"]=_.exports},"28e5":function(t,e,i){"use strict";i("a012")},"56a8":function(t,e,i){},a012:function(t,e,i){},d6b0:function(t,e,i){"use strict";i("56a8")}}]);